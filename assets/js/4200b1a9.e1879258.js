"use strict";(self.webpackChunkgenie_log=self.webpackChunkgenie_log||[]).push([[866],{4612:n=>{n.exports=JSON.parse('{"blogPosts":[{"id":"/Introduction","metadata":{"permalink":"/blog/Introduction","editUrl":"https://github.com/uhgenie7/uhgenie7.github.io/edit/main/blog/Introduction.md","source":"@site/blog/Introduction.md","title":"Introduction","description":"\uc0c8\ub85c\uc774 \uc54c\uac8c\ub41c \uac83\uc774\ub098 \ud68c\uace0 \ub4f1 \uac00\ubccd\uac8c \uc815\ub9ac\ud558\ub294 \uce74\ud14c\uace0\ub9ac\uc785\ub2c8\ub2e4.","date":"2022-10-15T06:51:33.000Z","formattedDate":"2022\ub144 10\uc6d4 15\uc77c","tags":[],"readingTime":0.285,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"nextItem":{"title":"\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0 \uc774\ubaa8\ud2f0\ucf58 \uae30\ub2a5 \ucd94\uac00\ud558\uae30","permalink":"/blog/ae-light-add-emoticon"}},"content":"\uc0c8\ub85c\uc774 \uc54c\uac8c\ub41c \uac83\uc774\ub098 \ud68c\uace0 \ub4f1 \uac00\ubccd\uac8c \uc815\ub9ac\ud558\ub294 \uce74\ud14c\uace0\ub9ac\uc785\ub2c8\ub2e4.  \\n\uc0c8\ub85c\uc774 \uc54c\uac8c\ub41c \uac83\uc740 \uac80\uc99d\ub41c \ub798\ud37c\ub7f0\uc2a4\uac00 \ubaa8\uc774\uba74 \uac1c\ubc1c \uce74\ud14c\uace0\ub9ac\ub85c \uc62e\uaca8\uc9d1\ub2c8\ub2e4."},{"id":"/ae-light-add-emoticon","metadata":{"permalink":"/blog/ae-light-add-emoticon","editUrl":"https://github.com/uhgenie7/uhgenie7.github.io/edit/main/blog/ae-light-add-emoticon.md","source":"@site/blog/ae-light-add-emoticon.md","title":"\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0 \uc774\ubaa8\ud2f0\ucf58 \uae30\ub2a5 \ucd94\uac00\ud558\uae30","description":"\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0 \uc774\ubaa8\ud2f0\ucf58\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4","date":"2022-10-15T00:00:00.000Z","formattedDate":"2022\ub144 10\uc6d4 15\uc77c","tags":[{"label":"\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8","permalink":"/blog/tags/\uc544\ubcf4\uce74\ub3c4-\uc5d0\ub514\uc158-\ub77c\uc774\ud2b8"},{"label":"\uc774\ubaa8\ud2f0\ucf58","permalink":"/blog/tags/\uc774\ubaa8\ud2f0\ucf58"}],"readingTime":7.525,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0 \uc774\ubaa8\ud2f0\ucf58 \uae30\ub2a5 \ucd94\uac00\ud558\uae30","description":"\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0 \uc774\ubaa8\ud2f0\ucf58\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4","tags":["\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8","\uc774\ubaa8\ud2f0\ucf58"],"date":"2022-10-15"},"prevItem":{"title":"Introduction","permalink":"/blog/Introduction"},"nextItem":{"title":"NextJS \ud504\ub85c\uc81d\ud2b8 \ucd5c\uc801\ud654 \ud558\uae30","permalink":"/blog/nextjs-optimization"}},"content":"\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0\ub294 \uc774\ubaa8\ud2f0\ucf58\ucc3d\uc744 \ub744\uc6b8 \uc218\ub294 \uc788\uc9c0\ub9cc, \ub4f1\ub85d\ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\\n\uc774\ub294 db\ub294 \ub9cc\ub4e4\uc5b4\uc84c\uc73c\ub098 \uadf8\ub204\ubcf4\ub4dc\uc640 \uc5f0\ub3d9\ub418\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4.\\n\ucf54\ub4dc\ub97c \uc57d\uac04\ub9cc \uc218\uc815\ud558\uc5ec \uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0\uc11c\ub3c4 \uc774\ubaa8\ud2f0\ucf58\uc744 \uc368\ubd05\uc2dc\ub2e4.\\n\uc9c4\ud589 \uc804, \ubc18\ub4dc\uc2dc \ubc31\uc5c5\ubd80\ud130 \ud574\uc8fc\uc138\uc694.\\n\\n\x3c!--truncate--\x3e\\n\\n## 1. \ub4e4\uc5b4\uac00\uae30 \uc804\uc5d0\\n\\n\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0\ub294 \uc774\ubaa8\ud2f0\ucf58\ucc3d\uc744 \ub744\uc6b8 \uc218\ub294 \uc788\uc9c0\ub9cc, \ub4f1\ub85d\ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\\n\uc774\ub294 db\ub294 \ub9cc\ub4e4\uc5b4\uc84c\uc73c\ub098 \uadf8\ub204\ubcf4\ub4dc \ucd5c\ucd08 \uc124\uce58 \uc2dc \uc774\ubaa8\ud2f0\ucf58 \ud14c\uc774\ube14\uc774 \ub9cc\ub4e4\uc5b4\uc9c0\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4.\\n\ucf54\ub4dc\ub97c \uc57d\uac04\ub9cc \uc218\uc815\ud558\uc5ec \uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0\uc11c\ub3c4 \uc774\ubaa8\ud2f0\ucf58\uc744 \uc368\ubd05\uc2dc\ub2e4.\\n\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \uc124\uce58 \ubc0f \ucf54\ub4dc\ub97c \uc5f4\uc5b4\ubcf4\ub294 \ubc29\ubc95\uc740 \uc0dd\ub7b5\ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4.\\n\\n**\uc9c4\ud589 \uc804, \ubc18\ub4dc\uc2dc \ubc31\uc5c5\ubd80\ud130 \ud574\uc8fc\uc138\uc694.**\\n\\n## 2. \uc218\uc815\ud574\uc57c\ud560 \ud30c\uc77c\\n\\n:::danger\\n**dbconfig.php** \ud30c\uc77c\uc740 \ub9e4\uc6b0 \uc911\uc694\ud558\uace0 \ubbfc\uac10\ud558\uac8c \ub2e4\ub8e8\uc5b4\uc57c \ud560 \ud30c\uc77c\uc785\ub2c8\ub2e4.\\n\uaf2d \uc6d0\ubcf8\uc744 \ubc31\uc5c5\ud574\ub450\uc2dc\uace0 \uc9c4\ud589\ud574\uc8fc\uc138\uc694.\\n:::\\n\\n```php title=\\"data/dbconfig.php\\"\\n// ...\\n$g5[\'css_table\'] = G5_TABLE_PREFIX.\'css_config\'; // CSS STYLE \uc815\uc758 \uc800\uc7a5\ud558\ub294 \ud14c\uc774\ube14\\n// highlight-next-line\\n$g5[\'emoticon_table\'] = G5_TABLE_PREFIX.\'emoticon\'; // \uc774\ubaa8\ud2f0\ucf58 \ud14c\uc774\ube14\\n?>\\n```\\n\\n- \ub9e8 \ub9c8\uc9c0\ub9c9 \uc904\uc5d0 \ucf54\ub4dc\ub97c \ud55c \uc904 \ucd94\uac00\ud569\ub2c8\ub2e4.\\n\\n```php title=\\"adm/admin.menu300.php\\"\\n<?php\\n$menu[\'menu300\'] = array (\\n    array(\'300000\', \'\uac8c\uc2dc\ud310\uad00\ub9ac\', \'\'.G5_ADMIN_URL.\'/board_list.php\', \'board\'),\\n    array(\'300100\', \'\uac8c\uc2dc\ud310\uad00\ub9ac\', \'\'.G5_ADMIN_URL.\'/board_list.php\', \'bbs_board\'),\\n    array(\'300200\', \'\uac8c\uc2dc\ud310\uadf8\ub8f9\uad00\ub9ac\', \'\'.G5_ADMIN_URL.\'/boardgroup_list.php\', \'bbs_group\'),\\n    array(\'300600\', \'\ub0b4\uc6a9\uad00\ub9ac\', G5_ADMIN_URL.\'/contentlist.php\', \'scf_contents\', 1),\\n    // highlight-next-line\\n    array(\'300700\', \'\uc774\ubaa8\ud2f0\ucf58\uad00\ub9ac\', G5_ADMIN_URL.\'/emoticon_list.php\', \'mmb_emoticon\', 1)\\n);\\n?>\\n```\\n\\n- \ub9e8 \ub9c8\uc9c0\ub9c9 \uc904\uc5d0 \ucf54\ub4dc\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4.\\n\\n## 3. \ucd94\uac00\ud574\uc57c\ud560 \ud30c\uc77c\\n\\n```php title=\\"adm/emoticon_form_update.php\\"\\n<?php\\n$sub_menu = \\"300700\\";\\ninclude_once(\'./_common.php\');\\n\\nauth_check($auth[$sub_menu], \'w\');\\ncheck_token();\\n\\n@mkdir(G5_DATA_PATH.\'/emoticon\', G5_DIR_PERMISSION);\\n@chmod(G5_DATA_PATH.\'/emoticon\', G5_DIR_PERMISSION);\\n\\nif ($img = $_FILES[\'me_img\'][\'name\']) {\\n    if (!preg_match(\\"/\\\\.(gif|jpg|png)$/i\\", $img)) {\\n        alert(\\"\uc774\ubaa8\ud2f0\ucf58 \uc774\ubbf8\uc9c0\uac00 gif, jpg, png \ud30c\uc77c\uc774 \uc544\ub2d9\ub2c8\ub2e4.\\");\\n    } else {\\n\\t\\t// \ud655\uc7a5\uc790 \ub530\uae30\\n\\t\\t$exp = explode(\\".\\", $_FILES[\'me_img\'][\'name\']);\\n\\t\\t$exp = $exp[count($exp)-1];\\n\\n\\t\\t$emoticon_path = G5_DATA_PATH.\'/emoticon\';\\n\\t\\t$emoticon_image_code = time().\\".\\".$exp;\\n\\t\\t$emoticon_image_path = \\"$emoticon_path/$emoticon_image_code\\";\\n\\t\\t$emoticon_image_url = \\"/data/emoticon/$emoticon_image_code\\";\\n\\n\\t\\tmove_uploaded_file($_FILES[\'me_img\'][\'tmp_name\'], $emoticon_image_path);\\n\\t\\tchmod($emoticon_image_path, 0606);\\n\\t\\t$sql_common = \\" , me_img = \'{$emoticon_image_url}\' \\";\\n\\t}\\n}\\nsql_query(\\" insert into {$g5[\'emoticon_table\']} set me_text = \'{$me_text}\'\\".$sql_common);\\n\\ngoto_url(\'./emoticon_list.php?\'.$qstr);\\n?>\\n```\\n\\n```php title=\\"adm/emoticon_list_update.php\\"\\n<?php\\n$sub_menu = \\"300700\\";\\ninclude_once(\'./_common.php\');\\n\\ncheck_demo();\\n\\nauth_check($auth[$sub_menu], \'d\');\\n\\ncheck_token();\\n\\n$count = count($_POST[\'chk\']);\\nif(!$count)\\n    alert($_POST[\'act_button\'].\' \ud558\uc2e4 \ud56d\ubaa9\uc744 \ud558\ub098 \uc774\uc0c1 \uccb4\ud06c\ud558\uc138\uc694.\');\\n\\nfor ($i=0; $i<$count; $i++)\\n{\\n    // \uc2e4\uc81c \ubc88\ud638\ub97c \ub118\uae40\\n    $k = $_POST[\'chk\'][$i];\\n\\n    // \uc774\ubaa8\ud2f0\ucf58 \ub4f1\ub85d \ub0b4\uc5ed\\n    $sql = \\" select * from {$g5[\'emoticon_table\']} where me_id = \'{$_POST[\'me_id\'][$k]}\' \\";\\n    $row = sql_fetch($sql);\\n\\n    if(!$row[\'me_id\'])\\n        continue;\\n\\n    // \uc774\ubaa8\ud2f0\ucf58 \ub0b4\uc5ed\uc0ad\uc81c\\n    $sql = \\" delete from {$g5[\'emoticon_table\']} where me_id = \'{$_POST[\'me_id\'][$k]}\' \\";\\n    sql_query($sql);\\n\\n\\t// \uc774\ubaa8\ud2f0\ucf58 \uc774\ubbf8\uc9c0 \uc0ad\uc81c\\n\\t@unlink(G5_PATH.$row[\'me_img\']);\\n}\\n\\ngoto_url(\'./emoticon_list.php?\'.$qstr);\\n?>\\n```\\n\\n```php title=\\"adm/emoticon_list.php\\"\\n<?php\\n$sub_menu = \\"300700\\";\\ninclude_once(\'./_common.php\');\\n\\nauth_check($auth[$sub_menu], \'r\');\\n\\n$token = get_token();\\n\\n$sql_common = \\" from {$g5[\'emoticon_table\']} \\";\\n\\n$sql_search = \\" where (1) \\";\\n\\nif (!$sst) {\\n\\t$sst  = \\"me_id\\";\\n\\t$sod = \\"desc\\";\\n}\\n$sql_order = \\" order by {$sst} {$sod} \\";\\n\\n$sql = \\" select count(*) as cnt\\n\\t\\t\\t{$sql_common}\\n\\t\\t\\t{$sql_search}\\n\\t\\t\\t{$sql_order} \\";\\n$row = sql_fetch($sql);\\n$total_count = $row[\'cnt\'];\\n\\n$rows = 18;\\n$total_page  = ceil($total_count / $rows);  // \uc804\uccb4 \ud398\uc774\uc9c0 \uacc4\uc0b0\\nif ($page < 1) $page = 1; // \ud398\uc774\uc9c0\uac00 \uc5c6\uc73c\uba74 \uccab \ud398\uc774\uc9c0 (1 \ud398\uc774\uc9c0)\\n$from_record = ($page - 1) * $rows; // \uc2dc\uc791 \uc5f4\uc744 \uad6c\ud568\\n\\n$sql = \\" select *\\n\\t\\t\\t{$sql_common}\\n\\t\\t\\t{$sql_search}\\n\\t\\t\\t{$sql_order}\\n\\t\\t\\tlimit {$from_record}, {$rows} \\";\\n$result = sql_query($sql);\\n\\n$listall = \'<a href=\\"\'.$_SERVER[\'PHP_SELF\'].\'\\" class=\\"ov_listall\\">\uc804\uccb4\ubaa9\ub85d</a>\';\\n\\n$g5[\'title\'] = \'\uc774\ubaa8\ud2f0\ucf58 \uad00\ub9ac\';\\ninclude_once (\'./admin.head.php\');\\n\\n$colspan = 9;\\n\\n$po_expire_term = \'\';\\nif($config[\'cf_point_term\'] > 0) {\\n\\t$po_expire_term = $config[\'cf_point_term\'];\\n}\\n\\n?>\\n\\n<h2 class=\\"h2_frm\\">\uc774\ubaa8\ud2f0\ucf58 \ubaa9\ub85d</h2>\\n\\n<div class=\\"local_ov01 local_ov\\">\\n\\t<?php echo $listall ?>\\n\\t\uc804\uccb4 <?php echo number_format($total_count) ?> \uac74\\n</div>\\n\\n<form name=\\"fpointlist\\" id=\\"fpointlist\\" method=\\"post\\" action=\\"./emoticon_list_update.php\\" onsubmit=\\"return fpointlist_submit(this);\\">\\n<input type=\\"hidden\\" name=\\"sst\\" value=\\"<?php echo $sst ?>\\">\\n<input type=\\"hidden\\" name=\\"sod\\" value=\\"<?php echo $sod ?>\\">\\n<input type=\\"hidden\\" name=\\"sfl\\" value=\\"<?php echo $sfl ?>\\">\\n<input type=\\"hidden\\" name=\\"stx\\" value=\\"<?php echo $stx ?>\\">\\n<input type=\\"hidden\\" name=\\"page\\" value=\\"<?php echo $page ?>\\">\\n<input type=\\"hidden\\" name=\\"token\\" value=\\"<?php echo $token ?>\\">\\n\\n<div class=\\"tbl_head01 tbl_wrap\\">\\n\\t<table>\\n\\t<caption><?php echo $g5[\'title\']; ?> \ubaa9\ub85d</caption>\\n\\t<colgroup>\\n\\t\\t<col style=\\"width: 50px;\\" />\\n\\t\\t<col style=\\"width: 120px;\\"/>\\n\\t\\t<col  />\\n\\t\\t<col style=\\"width: 50px;\\" />\\n\\t\\t<col style=\\"width: 120px;\\"/>\\n\\t\\t<col  />\\n\\t\\t<col style=\\"width: 50px;\\" />\\n\\t\\t<col style=\\"width: 120px;\\"/>\\n\\t\\t<col  />\\n\\t</colgroup>\\n\\t<thead>\\n\\t<tr>\\n\\t\\t<th scope=\\"col\\">\\n\\t\\t\\t<label for=\\"chkall\\" class=\\"sound_only\\">\uc774\ubaa8\ud2f0\ucf58 \ub0b4\uc5ed \uc804\uccb4</label>\\n\\t\\t\\t<input type=\\"checkbox\\" name=\\"chkall\\" value=\\"1\\" id=\\"chkall\\" onclick=\\"check_all(this.form)\\">\\n\\t\\t</th>\\n\\t\\t<th scope=\\"col\\">\uc774\ubbf8\uc9c0</th>\\n\\t\\t<th scope=\\"col\\">\uba85\ub839\uc5b4</th>\\n\\n\\t\\t<th scope=\\"col\\">&nbsp;</th>\\n\\t\\t<th scope=\\"col\\">\uc774\ubbf8\uc9c0</th>\\n\\t\\t<th scope=\\"col\\">\uba85\ub839\uc5b4</th>\\n\\n\\t\\t<th scope=\\"col\\">&nbsp;</th>\\n\\t\\t<th scope=\\"col\\">\uc774\ubbf8\uc9c0</th>\\n\\t\\t<th scope=\\"col\\">\uba85\ub839\uc5b4</th>\\n\\t</tr>\\n\\t</thead>\\n\\t<tbody>\\n\\t<?php\\n\\tfor ($i=0; $row=sql_fetch_array($result); $i++) {\\n\\t\\t$bg = \'bg\'.($i%2);\\n\\t?>\\n\\n<? if($i % 3 == 0) {\\n\\tif($i == 0) { echo \\"</tr>\\"; }\\n?>\\n\\t<tr class=\\"<?php echo $bg; ?>\\">\\n<? } ?>\\n\\n\\t\\t<td style=\\"text-align: center\\">\\n\\t\\t\\t<input type=\\"hidden\\" name=\\"me_id[<?php echo $i ?>]\\" value=\\"<?php echo $row[\'me_id\'] ?>\\" id=\\"me_id_<?php echo $i ?>\\">\\n\\t\\t\\t<input type=\\"checkbox\\" name=\\"chk[]\\" value=\\"<?php echo $i ?>\\" id=\\"chk_<?php echo $i ?>\\">\\n\\t\\t</td>\\n\\t\\t<td style=\\"text-align: center\\"><?php echo \\"<img src=\'\\".G5_URL.\\"{$row[\'me_img\']}\' alt=\'{$row[\'me_text\']}\'>\\"; ?></td>\\n\\t\\t<td class=\\"txt-left\\"><?php echo $row[\'me_text\']; ?></td>\\n\\t<?php\\n\\t}\\n\\n\\tif ($i == 0)\\n\\t\\techo \'<tr><td colspan=\\"\'.$colspan.\'\\" class=\\"empty_table\\">\uc790\ub8cc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</td></tr>\';\\n\\n\\tif($i%3) {\\n\\t\\tfor($j = 0; $j < 3-($i%3); $j++) {\\n\\t\\t\\techo \\"<td></td><td></td><td></td>\\";\\n\\t\\t}\\n\\t}\\n\\n\\tif($i > 0) { echo \\"</tr>\\"; }\\n\\t?>\\n\\t</tbody>\\n\\t</table>\\n</div>\\n\\n<div class=\\"btn_list01 btn_list\\">\\n\\t<input type=\\"submit\\" name=\\"act_button\\" value=\\"\uc120\ud0dd\uc0ad\uc81c\\" onclick=\\"document.pressed=this.value\\">\\n</div>\\n\\n</form>\\n\\n<?php echo get_paging(G5_IS_MOBILE ? $config[\'cf_mobile_pages\'] : $config[\'cf_write_pages\'], $page, $total_page, \\"{$_SERVER[\'PHP_SELF\']}?$qstr&amp;page=\\"); ?>\\n\\n<section id=\\"point_mng\\">\\n\\t<h2 class=\\"h2_frm\\">\uc774\ubaa8\ud2f0\ucf58 \ub4f1\ub85d</h2>\\n\\n\\t<form name=\\"fpointlist2\\" method=\\"post\\" id=\\"fpointlist2\\" action=\\"./emoticon_form_update.php\\" autocomplete=\\"off\\" enctype=\\"multipart/form-data\\">\\n\\t<input type=\\"hidden\\" name=\\"sfl\\" value=\\"<?php echo $sfl ?>\\">\\n\\t<input type=\\"hidden\\" name=\\"stx\\" value=\\"<?php echo $stx ?>\\">\\n\\t<input type=\\"hidden\\" name=\\"sst\\" value=\\"<?php echo $sst ?>\\">\\n\\t<input type=\\"hidden\\" name=\\"sod\\" value=\\"<?php echo $sod ?>\\">\\n\\t<input type=\\"hidden\\" name=\\"page\\" value=\\"<?php echo $page ?>\\">\\n\\t<input type=\\"hidden\\" name=\\"token\\" value=\\"<?php echo $token ?>\\">\\n\\n\\t<div class=\\"tbl_frm01 tbl_wrap\\">\\n\\t\\t<table>\\n\\t\\t<colgroup>\\n\\t\\t\\t<col style=\\"width: 120px;\\">\\n\\t\\t\\t<col>\\n\\t\\t</colgroup>\\n\\t\\t<tbody>\\n\\t\\t<tr>\\n\\t\\t\\t<th scope=\\"row\\"><label for=\\"me_text\\">\uc774\ubaa8\ud2f0\ucf58 \uba85\ub839\uc5b4<strong class=\\"sound_only\\">\ud544\uc218</strong></label></th>\\n\\t\\t\\t<td><input type=\\"text\\" name=\\"me_text\\" id=\\"me_text\\" class=\\"required frm_input\\" required></td>\\n\\t\\t</tr>\\n\\t\\t<tr>\\n\\t\\t\\t<th scope=\\"row\\"><label for=\\"me_img\\">\uc774\ubbf8\uc9c0<strong class=\\"sound_only\\">\ud544\uc218</strong></label></th>\\n\\t\\t\\t<td><input type=\\"file\\" name=\\"me_img\\" id=\\"me_img\\"></td>\\n\\t\\t</tr>\\n\\t\\t</tbody>\\n\\t\\t</table>\\n\\t</div>\\n\\n\\t<div class=\\"btn_confirm01 btn_confirm\\">\\n\\t\\t<input type=\\"submit\\" value=\\"\ud655\uc778\\" class=\\"btn_submit\\">\\n\\t</div>\\n\\n\\t</form>\\n\\n</section>\\n\\n<script>\\nfunction fpointlist_submit(f)\\n{\\n\\tif (!is_checked(\\"chk[]\\")) {\\n\\t\\talert(document.pressed+\\" \ud558\uc2e4 \ud56d\ubaa9\uc744 \ud558\ub098 \uc774\uc0c1 \uc120\ud0dd\ud558\uc138\uc694.\\");\\n\\t\\treturn false;\\n\\t}\\n\\n\\tif(document.pressed == \\"\uc120\ud0dd\uc0ad\uc81c\\") {\\n\\t\\tif(!confirm(\\"\uc120\ud0dd\ud55c \uc790\ub8cc\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\\")) {\\n\\t\\t\\treturn false;\\n\\t\\t}\\n\\t}\\n\\n\\treturn true;\\n}\\n<\/script>\\n\\n<?php\\ninclude_once (\'./admin.tail.php\');\\n?>\\n\\n```\\n\\n## 3. \uacb0\uacfc \ud655\uc778\\n\\n### \uad00\ub9ac\uc790 \ud398\uc774\uc9c0\\n\\n- \uad00\ub9ac\uc790 \ud398\uc774\uc9c0\uc5d0 `\uc774\ubaa8\ud2f0\ucf58 \uad00\ub9ac`\uac00 \uc0dd\uacbc\uc2b5\ub2c8\ub2e4.\\n  ![admin](./images/admin1.png)\\n\\n- \ub123\uace0 \uc2f6\uc740 \uc544\uc774\ucf58\uc744 \uc785\ub825\ud558\uace0 \uba85\ub839\uc5b4\ub3c4 `/`\uc640 \ud568\uaed8 \uc801\uc5b4\uc90d\ub2c8\ub2e4.\\n  ![add-imo](./images/admin2.png)\\n- \uc6b0\uce21 \uc0c1\ub2e8\uc5d0 `\ub4f1\ub85d`\uc744 \ub20c\ub7ec\uc8fc\uba74 \ub4f1\ub85d \uc131\uacf5!\\n  ![submit-imo](./images/admin3.png)\\n\\n### \uac8c\uc2dc\ud310\uc5d0\uc11c \uc368\ubcf4\uae30\\n\\n- [\uc774\ubaa8\ud2f0\ucf58]\uc744 \ub204\ub974\uba74 \ub4f1\ub85d\ub41c \uc774\ubaa8\ud2f0\ucf58 \ubaa9\ub85d\uc774 \ubcf4\uc785\ub2c8\ub2e4.  \\n  ![imo-list](./images/admin4.png)\\n\\n- \ub313\uae00\ucc3d\uc5d0 \uc544\uae4c \uc37c\ub358 \uc774\ubaa8\ud2f0\ucf58 \uba85\ub839\uc5b4`(ex: /test)`\ub97c \uc0ac\uc6a9\ud55c \ub4a4 \ub4f1\ub85d\ud558\uba74 \uc774\ubaa8\ud2f0\ucf58\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\\n\\n  ![imo-list](./images/admin5.png)\\n\\n## Reference\\n\\n- [\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub9c8\uc2a4\ud130](https://github.com/tateck-develop/AvocadoEdition/tree/master/AvocadoEdition/adm)\\n- [\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ud37c\uc2a4\ub110](https://extrashot.postype.com/post/12533518)"},{"id":"/nextjs-optimization","metadata":{"permalink":"/blog/nextjs-optimization","editUrl":"https://github.com/uhgenie7/uhgenie7.github.io/edit/main/blog/nextjs-optimization.md","source":"@site/blog/nextjs-optimization.md","title":"NextJS \ud504\ub85c\uc81d\ud2b8 \ucd5c\uc801\ud654 \ud558\uae30","description":"NextJS\uac00 \uc81c\uacf5\ud558\ub294 \uae30\ub2a5\uc73c\ub85c \ucd5c\uc801\ud654\ud569\ub2c8\ub2e4","date":"2022-10-14T00:00:00.000Z","formattedDate":"2022\ub144 10\uc6d4 14\uc77c","tags":[{"label":"\ucd5c\uc801\ud654","permalink":"/blog/tags/\ucd5c\uc801\ud654"},{"label":"nextjs","permalink":"/blog/tags/nextjs"}],"readingTime":6.455,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"NextJS \ud504\ub85c\uc81d\ud2b8 \ucd5c\uc801\ud654 \ud558\uae30","description":"NextJS\uac00 \uc81c\uacf5\ud558\ub294 \uae30\ub2a5\uc73c\ub85c \ucd5c\uc801\ud654\ud569\ub2c8\ub2e4","tags":["\ucd5c\uc801\ud654","nextjs"],"date":"2022-10-14"},"prevItem":{"title":"\uc544\ubcf4\uce74\ub3c4 \uc5d0\ub514\uc158 \ub77c\uc774\ud2b8\uc5d0 \uc774\ubaa8\ud2f0\ucf58 \uae30\ub2a5 \ucd94\uac00\ud558\uae30","permalink":"/blog/ae-light-add-emoticon"}},"content":"NextJS\uac00 \uc81c\uacf5\ud558\ub294 \uae30\ub2a5\uacfc lighthouse\ub97c \uae30\ubc18\uc73c\ub85c \uc6f9\uc0ac\uc774\ud2b8\ub97c \ucd5c\uc801\ud654 \ud574\ubcf4\ub294 \uc2dc\uac04\uc744 \uac00\uc84c\uc2b5\ub2c8\ub2e4.\\n\\n\x3c!--truncate--\x3e\\n\\n## \ucd5c\uc801\ud654 \ud558\ub824\ub294 \ud504\ub85c\uc81d\ud2b8\\n\\n[nextjs-blog](nextjs-blog-challenge.vercel.app)\\n\\n## \ucd5c\uc801\ud654 \uc804, lighthouse \uacb0\uacfc\\n\\n![\ub9ac\ud329\ud130\ub9c1\uc804](./images/before-refactor.png)\\n\\n- SSG\ub85c \ub9cc\ub4e4\uc5b4\uc838\uc788\ub294\ub370\ub2e4 \uae30\ub2a5\uc774 \ub9ce\uc774 \uc5c6\uc5b4\uc11c \ub300\ubd80\ubd84\uc758 \uc131\ub2a5\uc774 \uc774\ubbf8 \ub192\uc740 \uc0c1\ud0dc\uc600\ub2e4.\\n- \uadf8\ub7ec\ub098 SSG\ub85c \ub9cc\ub4e4\uc5b4\uc84c\uc74c\uc5d0\ub3c4 SEO\uc758 \uc810\uc218\uac00 \ub0ae\uae30 \ub54c\ubb38\uc5d0 SEO\ub97c \ub354 \ucc59\uaca8\ubcf4\uae30\ub85c \ud588\ub2e4.\\n\\n### 1. SEO\\n\\n- `Head`\ub97c \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uc740 \ub450 \uac00\uc9c0\uc774\ub2e4. `next/head` \uc5d0\uc11c \uac00\uc838\uc624\ub294 \ubc29\ubc95\uacfc `next/document`\uc5d0\uc11c \uac00\uc838\uc624\ub294 \ubc29\ubc95\uc774 \uc788\ub2e4.\\n- \ubaa8\ub4e0 \ud398\uc774\uc9c0\uc5d0\uc11c meta \ud0dc\uadf8\ub97c \'\uacf5\ud2cd\'\uc73c\ub85c \uc4f0\uace0\uc790 \ud55c\ub2e4\uba74 `pages/_document.tsx`\uc5d0\uc11c \uc791\uc5c5\ud55c\ub2e4.\\n- \ud398\uc774\uc9c0\ub9c8\ub2e4 \ub2e4\ub978 meta \ud0dc\uadf8\ub97c \ubd80\uc5ec\ud558\uace0\uc790 \ud55c\ub2e4\uba74 (ex: title) `next/head` \uc5d0\uc11c \uac00\uc838\uc640\uc11c \uc4f4\ub2e4.\\n- \ud574\ub2f9 \ud504\ub85c\uc81d\ud2b8\ub294 \uacf5\ud1b5\uc73c\ub85c \uc4f0\uace0\uc790 \ud588\ub2e4.\\n\\n```tsx\\n// src/components/Meta.tsx\\n\\nconst Meta = () => {\\n  return (\\n    <>\\n      <meta charSet=\\"utf-8\\" />\\n      <meta\\n        name=\\"viewport\\"\\n        content=\\"width=device-width, initial-scale=1, shrink-to-fit=no\\"\\n      />\\n      <meta name=\\"keywords\\" content=\\"nextjs, \uc9c0\ub2c8, \ube14\ub85c\uadf8\\" />\\n      // ...\\n    </>\\n  );\\n};\\n```\\n\\n- Meta \ud0dc\uadf8\uac00 \uae38\uc5b4\uc9c8 \uac83 \uac19\uc544\uc11c, \ub610\ub294 \ucd94\ud6c4 \ub3d9\uc801 meta \ud0dc\uadf8\ub97c \ubd80\uc5ec\ud558\uace0\uc790 \ud560 \ub54c\ub97c \ub300\ube44\ud574 meta \ud0dc\uadf8\ub97c \ucef4\ud3ec\ub10c\ud2b8\ub85c \ube7c\ub450\uc5c8\ub2e4.\\n\\n```tsx\\n// pages/_document.tsx\\n\\nimport { Html, Head, Main, NextScript } from \'next/document\';\\nimport Meta from \'@src/components/Meta\';\\n\\nexport default function Document() {\\n  return (\\n    <Html lang=\\"ko\\">\\n      <Head>\\n        <Meta />\\n      </Head>\\n      <body>\\n        <Main />\\n        <NextScript />\\n      </body>\\n    </Html>\\n  );\\n}\\n```\\n\\n### 2. [Compression](https://nextjs.org/docs/api-reference/next.config.js/compression)\\n\\n- Next.js\ub294 \ub80c\ub354\ub9c1\ub41c \ucf58\ud150\uce20\uc640 \uc815\uc801 \ud30c\uc77c\uc744 \uc555\ucd95\ud558\uae30 \uc704\ud574 [gzip \uc555\ucd95](https://www.rfc-editor.org/rfc/rfc6713#section-3)\uc744 \uc81c\uacf5\ud55c\ub2e4.\\n\\n  > gzip\uc740 \ud30c\uc77c \uc555\ucd95\uc5d0 \uc4f0\uc774\ub294 \uc751\uc6a9 \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc774\ub2e4. gzip\uc740 GNU zip\uc758 \uc900\ub9d0\uc774\uba70, \ucd08\uae30 \uc720\ub2c9\uc2a4 \uc2dc\uc2a4\ud15c\uc5d0 \uc4f0\uc774\ub358 \uc555\ucd95 \ud504\ub85c\uadf8\ub7a8\uc744 \ub300\uccb4\ud558\uae30 \uc704\ud55c \uc790\uc720 \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc774\ub2e4.\\n\\n  ```js\\n  // next.config.js\\n  module.exports = {\\n    compress: true,\\n  };\\n  ```\\n\\n### 3. [SWC](https://nextjs.org/docs/advanced-features/compiler)\\n\\n- \uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \ucef4\ud30c\uc77c\ub7ec. \uc774 \ucef4\ud30c\uc77c\ub7ec\ub97c \uc0ac\uc6a9\ud55c \ucef4\ud30c\uc77c\uc740 Babel\ubcf4\ub2e4 17\ubc30 \ube60\ub974\uba70 Next.js \ubc84\uc804 12\ubd80\ud130 \uae30\ubcf8\uc801\uc73c\ub85c \ud65c\uc131\ud654\ub41c\ub2e4.\\n\\n  ```js\\n  // next.config.js\\n  module.exports = {\\n    swcMinify: true,\\n  };\\n  ```\\n\\n### 4. [\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \ud06c\uae30 \uc904\uc774\uae30](https://nextjs.org/docs/going-to-production#reducing-javascript-size)\\n\\n- \uad8c\uc7a5\ud558\ub294 \ub3c4\uad6c\ub294 \uc5ec\ub7ec \uac00\uc9c0\uac00 \uc788\uc9c0\ub9cc \uadf8 \uc911 [Webpack \ubc88\ub4e4 \ubd84\uc11d\uae30](https://github.com/vercel/next.js/tree/canary/packages/next-bundle-analyzer)\ub97c \uc801\uc6a9\ud574\ubcf4\uc558\ub2e4.\\n\\n  ```js\\n  // next.config.js\\n  const withBundleAnalyzer = require(\'@next/bundle-analyzer\')({\\n    enabled: process.env.ANALYZE === \'true\',\\n  });\\n\\n  module.exports = withBundleAnalyzer({\\n    compress: true,\\n    reactStrictMode: true,\\n    swcMinify: true,\\n    compiler: {\\n      removeConsole: {\\n        exclude: [\'error\'],\\n      },\\n    },\\n    webpack(config, { webpack }) {\\n      const prod = process.env.NODE_ENV === \'production\';\\n      return {\\n        ...config,\\n        mode: prod ? \'production\' : \'development\',\\n        devtool: prod ? \'hidden-source-map\' : \'eval-source-map\',\\n        plugins: [\\n          ...config.plugins,\\n          new webpack.ContextReplacementPlugin(\\n            /moment[/\\\\\\\\]locale$/,\\n            /^\\\\.\\\\/ko$/\\n          ),\\n        ],\\n      };\\n    },\\n  });\\n  ```\\n\\n![\ubc88\ub4e4 clinet](./images/bundle.png)\\n![\ubc88\ub4e4 clinet2](./images/bundle2.png)\\n\\n- \uae30\ubcf8\uc801\uc778 \ubc88\ub4e4\uc778 \uac83 \uac19\uc544\uc11c \ud2b8\ub9ac \uc250\uc774\ud0b9\ud558\uc9c4 \uc54a\uc558\ub2e4.\\n\\n### 5. \uce90\uc2f1 \uc774\uc6a9\ud558\uae30\\n\\n#### swr\\n\\n[swr](https://swr.vercel.app/ko)\uc744 \uc774\uc6a9\ud558\uc5ec \uce90\uc2f1\uc744 \uc774\uc6a9\ud558\uc600\ub2e4.\\n\\n> swr: \uce90\uc2dc(\uc2a4\ud0dc\uc77c)\ub85c\ubd80\ud130 \ub370\uc774\ud130\ub97c \ubc18\ud658\ud55c \ud6c4, fetch \uc694\uccad(\uc7ac\uac80\uc99d)\uc744 \ud558\uace0, \ucd5c\uc885\uc801\uc73c\ub85c \ucd5c\uc2e0\ud654\ub41c \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \uc804\ub7b5\\n\\n1. fetcher \ud568\uc218\ub97c \uc0dd\uc131\\n2. \ubd80\ubaa8 \ucef4\ud3ec\ub10c\ud2b8\uc5d0 `<SWRConfig value={{ fallback }}>`\uc744 \uac10\uc2fc \ub4a4\\n3. \uc0ac\uc6a9\ud558\uace0\uc790 \ud558\ub294 \ucef4\ud3ec\ub10c\ud2b8\ub098 \ud398\uc774\uc9c0\uc5d0 (\ubd80\ubaa8 \ucef4\ud3ec\ub10c\ud2b8\uc758 \uc790\uc2dd \ucef4\ud3ec\ub10c\ud2b8) useSWR \ud6c5\uc744 \uc0ac\uc6a9\\n   - \ubb38\ubc95 `const { data, error } = useSWR(key, fetcher, \uc635\uc158)`\\n   - key: \uc694\uccad\uc744 \uc704\ud55c **\uace0\uc720\ud55c \ud0a4** \ubb38\uc790\uc5f4(\ub610\ub294 \ud568\uc218 / \ubc30\uc5f4 / null)\\n   - fetcher: (\uc635\uc158) \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\uae30 \uc704\ud55c \ud568\uc218\ub97c \ubc18\ud658\ud558\ub294 Promise\\n   - \uc5ec\uae30\uc758 fetcher\ub294 SWR\uc758 key\ub97c \ubc1b\uace0 \ub370\uc774\ud130\ub97c \ubc18\ud658\ud558\ub294 \ube44\ub3d9\uae30 \ud568\uc218\uc774\ub2e4\\n   - `key`\ub294 \uace0\uc720\ud558\ubbc0\ub85c \uc5b4\ub514\uc5d0\uc11c\ub4e0 (\ud398\uc774\uc9c0\ub4e0, \ucef4\ud3ec\ub10c\ud2b8\ub4e0) \uc6d0\ud55c\ub2e4\uba74 \ub370\uc774\ud130\ub97c \uaebc\ub0b4\uc4f8 \uc218 \uc788\ub2e4.\\n   - \uc0ac\uc774\ud2b8\uc758 \ud2b9\uc131\uc5d0 \ub530\ub77c \uc635\uc158\uc744 \uc790\uc720\ub86d\uac8c \ubd80\uc5ec\ud55c\ub2e4. `ex: revalidateOnFocus = false`\\n\\n#### swr\uc73c\ub85c \uce90\uc2dc \ud655\uc778\ud558\uae30\\n\\n\uce90\uc2dc\uac00 \uc798 \ub2f4\uacbc\ub294\uc9c0 \uad81\uae08\ud558\ub2e4\uba74 \uce90\uc2dc \uc548\uc744 \ud655\uc778\ud574\ubcfc \uc218 \uc788\ub2e4.\\n\uba54\uc778 \ud654\uba74\uc758 `/api/posts`\ub77c\ub294 \ud0a4\ub97c \uac00\uc9c4 `Allposts`\uac00 \uce90\uc2dc\uc5d0 \uc798 \ub2f4\uacbc\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\uc558\ub2e4. \ud574\ub2f9 \ud398\uc774\uc9c0\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc788\uc5c8\uc9c0\ub9cc, \uc5b4\ub290 \uacf3\uc5d0\uc11c\ub3c4 \uce90\uc2dc\uac00 \uc0ac\ub77c\uc9c0\uc9c0 \uc54a\uace0 \uc798 \ub2f4\uae34\ub2e4\ub294 \uac83\uc744 \ud655\uc778\ud574\ubcf4\uae30 \uc704\ud574 \uc77c\ubd80\ub7ec `slug` \ub2e8\uc77c \ud398\uc774\uc9c0\uc5d0\uc11c `Allposts`\uce90\uc2dc\ub97c \ud655\uc778\ud574\ubcf4\uae30\ub85c \ud588\ub2e4.\\n\\n1. \uba3c\uc800 `import { useSWRConfig } from \'swr\';` \ub97c import \ud55c\ub2e4.\\n2. `cache.get(\'\ud655\uc778\ud558\uace0 \uc2f6\uc740 key\')`\ub97c \ud558\uc5ec \uce90\uc2dc\ub97c get \ud574\uc62c \uc218 \uc788\ub2e4.\\n\\n   ```tsx\\n     const PostContent = () => {\\n     const { cache } = useSWRConfig();\\n     const { query } = useRouter();\\n     const { data: post, error } = useSWR(\\n       `/api/posts/${query.slug || null}`,\\n       fetcher\\n     );\\n\\n     const check = cache.get(\'/api/posts\'); <- \uc5ec\uae30\\n     console.log(check);\\n     //...\\n   ```\\n\\n3. \uce90\uc2dc\uac00 \ub2f4\uae30\uae30 \uc804\uc5d0\ub294 undefined\ub85c \uc544\ubb34\uac83\ub3c4 \ub2f4\uae30\uc9c0 \uc54a\uc558\ub2e4.\\n   ![\uce90\uc2dc\uac00 \ub2f4\uae30\uae30 \uc804](./images/cashetest1.png)\\n4. \uce90\uc2dc\ub97c \ub2f4\uc744 \uc218 \uc788\ub3c4\ub85d `/api/posts` key\ub97c \uac16\uace0 \uc788\ub294 \uba54\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud588\ub2e4\uac00 \ub418\ub3cc\uc544\uc624\uba74 \uce90\uc2dc\uac00 \ub2f4\uaca8\uc788\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\ub2e4.\\n   ![\uce90\uc2dc\uac00 \ub2f4\uae34 \ud6c4](./images/cashetest2.png)\\n\\n## \ucd5c\uc801\ud654 \uc774\ud6c4, lighthouse \uacb0\uacfc\\n\\n![\ub9ac\ud329\ud130\ub9c1\ud6c4](./images/after-refactor.png)\\n\\n- \uc62c 100\uc744 \ub9de\uc73c\uba74 lighthouse\uac00 \uaf43\uac00\ub8e8\uae4c\uc9c0 \ub0a0\ub824\uc900\ub2e4.\\n\\n## Reference\\n\\n### mdn\\n\\n- [HTTP\uc5d0\uc11c\uc758 \uc555\ucd95](https://developer.mozilla.org/ko/docs/Web/HTTP/Compression)\\n\\n### NextJs\\n\\n- [NextJs \uc555\ucd95](https://nextjs.org/docs/api-reference/next.config.js/compression)\\n- [Dynamic Import](https://nextjs.org/docs/advanced-features/dynamic-import)\\n- [SWC](https://nextjs.org/docs/advanced-features/compiler)\\n- [\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8 \ud06c\uae30 \uc904\uc774\uae30](https://nextjs.org/docs/going-to-production#reducing-javascript-size)"}]}')}}]);