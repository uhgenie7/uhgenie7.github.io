"use strict";(self.webpackChunkgenie_log=self.webpackChunkgenie_log||[]).push([[9230],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=a.createContext({}),c=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),m=c(n),d=o,g=m["".concat(i,".").concat(d)]||m[d]||p[d]||r;return n?a.createElement(g,l(l({ref:t},u),{},{components:n})):a.createElement(g,l({ref:t},u))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var c=2;c<r;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1953:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(7462),o=(n(7294),n(3905));const r={title:"React Hook \uc815\ub9ac",description:"\uacf5\uc2dd\ubb38\uc11c \uc77d\uae30",tags:["hook"],last_update:{date:"2023-04-24"}},l=void 0,s={unversionedId:"dev/react/hook/index",id:"dev/react/hook/index",title:"React Hook \uc815\ub9ac",description:"\uacf5\uc2dd\ubb38\uc11c \uc77d\uae30",source:"@site/docs/dev/react/hook/index.md",sourceDirName:"dev/react/hook",slug:"/dev/react/hook/",permalink:"/docs/dev/react/hook/",draft:!1,editUrl:"https://github.com/uhgenie7/uhgenie7.github.io/edit/main/docs/dev/react/hook/index.md",tags:[{label:"hook",permalink:"/docs/tags/hook"}],version:"current",lastUpdatedAt:1682294400,formattedLastUpdatedAt:"2023\ub144 4\uc6d4 24\uc77c",frontMatter:{title:"React Hook \uc815\ub9ac",description:"\uacf5\uc2dd\ubb38\uc11c \uc77d\uae30",tags:["hook"],last_update:{date:"2023-04-24"}},sidebar:"dev",previous:{title:"NextJS \ud504\ub85c\uc81d\ud2b8 \ucd5c\uc801\ud654 \ud558\uae30",permalink:"/docs/dev/react/nextjs-optimization/"},next:{title:"Block scoped variables",permalink:"/docs/dev/jsts/variables/"}},i={},c=[{value:"\uacf5\uc2dd\ubb38\uc11c \ud1ba\uc544\ubcf4\uae30",id:"\uacf5\uc2dd\ubb38\uc11c-\ud1ba\uc544\ubcf4\uae30",level:2},{value:"1. useState",id:"1-usestate",level:3},{value:"2. useEffect",id:"2-useeffect",level:3},{value:"3. useMemo",id:"3-usememo",level:3},{value:"4. useCallback",id:"4-usecallback",level:3},{value:"1. \ucef4\ud3ec\ub10c\ud2b8\uc758 \uc7ac\ub79c\ub354\ub9c1 \uc2a4\ud0b5\ud558\uae30",id:"1-\ucef4\ud3ec\ub10c\ud2b8\uc758-\uc7ac\ub79c\ub354\ub9c1-\uc2a4\ud0b5\ud558\uae30",level:4},{value:"2. useMemo\uc640 \ucc28\uc774",id:"2-usememo\uc640-\ucc28\uc774",level:4},{value:"3. \uba54\ubaa8\ud654\ub41c \ucf5c\ubc31(memoized callback)\uc5d0\uc11c \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8 (feat. useState)",id:"3-\uba54\ubaa8\ud654\ub41c-\ucf5c\ubc31memoized-callback\uc5d0\uc11c-\uc0c1\ud0dc-\uc5c5\ub370\uc774\ud2b8-feat-usestate",level:4},{value:"4. Effect\uac00 \ub108\ubb34 \uc790\uc8fc \ubc1c\uc0dd\ud558\uc9c0 \uc54a\ub3c4\ub85d \ubc29\uc9c0 (feat. useEffect)",id:"4-effect\uac00-\ub108\ubb34-\uc790\uc8fc-\ubc1c\uc0dd\ud558\uc9c0-\uc54a\ub3c4\ub85d-\ubc29\uc9c0-feat-useeffect",level:4},{value:"5. \ucee4\uc2a4\ud140 \ud6c5 \ucd5c\uc801\ud654",id:"5-\ucee4\uc2a4\ud140-\ud6c5-\ucd5c\uc801\ud654",level:4},{value:"5. useContext",id:"5-usecontext",level:3},{value:"1. \uc5ec\ub7ec \uac1c\uc758 \ucee8\ud14d\uc2a4\ud2b8",id:"1-\uc5ec\ub7ec-\uac1c\uc758-\ucee8\ud14d\uc2a4\ud2b8",level:4},{value:"2.\ucee8\ud14d\uc2a4\ud2b8 \uc7ac\uc815\uc758",id:"2\ucee8\ud14d\uc2a4\ud2b8-\uc7ac\uc815\uc758",level:4},{value:"3.\ud568\uc218 \ub610\ub294 \uac1c\uccb4\ub97c \ucee8\ud14d\uc2a4\ud2b8\ub85c \uc804\ub2ec\ud558\uae30",id:"3\ud568\uc218-\ub610\ub294-\uac1c\uccb4\ub97c-\ucee8\ud14d\uc2a4\ud2b8\ub85c-\uc804\ub2ec\ud558\uae30",level:4}],u={toc:c};function p(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"\uacf5\uc2dd\ubb38\uc11c-\ud1ba\uc544\ubcf4\uae30"},"\uacf5\uc2dd\ubb38\uc11c \ud1ba\uc544\ubcf4\uae30"),(0,o.kt)("h3",{id:"1-usestate"},"1. useState"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"setSomething(nextState)")," :")),(0,o.kt)("p",null,"\ud568\uc218\ub97c nextState\ub85c \uc804\ub2ec\ud558\uba74 \uc5c5\ub370\uc774\ud2b8 \ud568\uc218\ub85c \ucc98\ub9ac\ub429\ub2c8\ub2e4. \uc774\uac83\uc740 ",(0,o.kt)("strong",{parentName:"p"},"\uc21c\uc218"),"\ud574\uc57c \ud558\uace0 pending \uc0c1\ud0dc\ub97c \uc720\uc77c\ud55c \uc778\uc218\ub85c \uac00\uc838\uc640\uc57c \ud558\uba70 \ub2e4\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc57c \ud569\ub2c8\ub2e4.\nReact\ub294 updater function\uc744 \ub300\uae30\uc5f4\uc5d0 \ub123\uace0 \ucef4\ud3ec\ub10c\ud2b8\ub97c \ub2e4\uc2dc \ub80c\ub354\ub9c1\ud569\ub2c8\ub2e4. \ub2e4\uc74c \ub80c\ub354\ub9c1 \ub3d9\uc548 React\ub294 \ub300\uae30 \uc911\uc778 \ubaa8\ub4e0 updater\ub97c \uc774\uc804 \uc0c1\ud0dc\uc5d0 \uc801\uc6a9\ud558\uc5ec \ub2e4\uc74c \uc0c1\ud0dc\ub97c \uacc4\uc0b0\ud569\ub2c8\ub2e4."),(0,o.kt)("p",null,"React\ub294 \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8\ub97c \uc77c\uad04 \ucc98\ub9ac\ud569\ub2c8\ub2e4. \ubaa8\ub4e0 \uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec\uac00 \uc2e4\ud589\ub418\uace0 ",(0,o.kt)("strong",{parentName:"p"},"\ud574\ub2f9 \uc124\uc815 \ud568\uc218\ub97c \ud638\ucd9c"),"\ud55c \ud6c4 ",(0,o.kt)("strong",{parentName:"p"},"\ud654\uba74\uc744 \uc5c5\ub370\uc774\ud2b8"),"\ud569\ub2c8\ub2e4. \uc774\ub807\uac8c \ud558\uba74 ",(0,o.kt)("strong",{parentName:"p"},"\ub2e8\uc77c \uc774\ubca4\ud2b8 \uc911\uc5d0 \uc5ec\ub7ec \ubc88 \ub2e4\uc2dc \ub80c\ub354\ub9c1\ub418\ub294 \uac83\uc744 \ubc29\uc9c0"),"\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub4dc\ubb38 \uacbd\uc6b0\uc9c0\ub9cc \uc608\ub97c \ub4e4\uc5b4 DOM\uc5d0 \uc561\uc138\uc2a4\ud558\uae30 \uc704\ud574 React\uac00 \ud654\uba74\uc744 \ub354 \uc77c\ucc0d \uc5c5\ub370\uc774\ud2b8\ud558\ub3c4\ub85d \uac15\uc81c\ud574\uc57c \ud558\ub294 \uacbd\uc6b0 flushSync\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,o.kt)("admonition",{title:"\ud2b9\ud788 \uc8fc\uc758",type:"warning"},(0,o.kt)("p",{parentName:"admonition"},"\uc77c\ubc18\uc801\uc73c\ub85c \ub9ce\uc774 \uc800\uc9c0\ub974\ub294 \uc2e4\uc218\n\ud568\uc218\uac00 \ub05d\ub098\uae30 \uc804\uc5d0 set\ud568\uc218\ub97c \ud638\ucd9c\ud574\ub3c4 ",(0,o.kt)("strong",{parentName:"p"},"\uc774\ubbf8 \uc2e4\ud589 \uc911\uc778 \ucf54\ub4dc\uc758 \ud604\uc7ac \uc0c1\ud0dc"),"\ub294 \ubcc0\uacbd \ub418\uc9c0 \uc54a\ub294\ub2e4."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useState } from 'react';\n\nexport default function Counter() {\n  const [name, setName] = useState('Taylor');\n\n  function handleNameClick() {\n    setName('Robin');\n    console.log(name); // \uc5ec\uc804\ud788 Robin\uc73c\ub85c set\ud558\ub354\ub77c\ub3c4, \uc544\uc9c1 \"Taylor\" \uc778 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc74c.\n  }\n\n  return (\n    <>\n      <button onClick={handleNameClick}>You pressed me {name}</button>\n    </>\n  );\n}\n"))),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"\uc774\uc804 \uc0c1\ud0dc\ub97c \uae30\ubc18\uc73c\ub85c \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8")),(0,o.kt)("p",null,"\uc5ec\uae30 \ub450 \uac00\uc9c0 \ubc29\ubc95\uc758 \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8\uac00 \uc788\ub2e4. \ub458\uc758 \ucc28\uc774\ub294 \uc5c4\uc5f0\ud788 \ub2e4\ub974\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"const [age, setAge] = useState(42);\n\nfunction handleClick1() {\n  setAge(age + 1); // setAge(42 + 1)\n  setAge(age + 1); // setAge(42 + 1)\n  setAge(age + 1); // setAge(42 + 1)\n}\n\nfunction handleClick2() {\n  setAge((prevAge) => prevAge + 1); // setAge(42 => 43)\n  setAge((prevAge) => prevAge + 1); // setAge(43 => 44)\n  setAge((prevAge) => prevAge + 1); // setAge(44 => 45)\n}\n")),(0,o.kt)("p",null,"handleClick1 \uc740 \uc774\ubbf8 \uc2e4\ud589 \uc911\uc778 \ucf54\ub4dc\uc758 \uc0c1\ud0dc \ubcc0\uc218\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uc9c0 \uc54a\uace0 \uc788\ub2e4. \uacc4\uc18d \ubc14\uae65\uc5d0 \uc788\ub294 age\ub97c \ucc38\uc870\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc774\ub2e4."),(0,o.kt)("p",null,"handleClick2 \ub294 \ubcf4\ub958 \uc0c1\ud0dc\ub97c \uac00\uc838\uc640 \ub2e4\uc74c \uc0c1\ud0dc\ub97c \uc5c5\ub370\uc774\ud2b8 \ud55c\ub2e4."),(0,o.kt)("p",null,"prevAge => prevAge + 1 \ub294 42\ub97c \ubcf4\ub958 \uc0c1\ud0dc\ub85c \uac16\uace0 \uc788\ub2e4\uac00 43\uc73c\ub85c \ub2e4\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud55c\ub2e4.",(0,o.kt)("br",{parentName:"p"}),"\n","prevAge => prevAge + 1 \ub294 43\ub97c \ubcf4\ub958 \uc0c1\ud0dc\ub85c \uac16\uace0 \uc788\ub2e4\uac00 44\uc73c\ub85c \ub2e4\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud55c\ub2e4.",(0,o.kt)("br",{parentName:"p"}),"\n","prevAge => prevAge + 1 \ub294 44\ub97c \ubcf4\ub958 \uc0c1\ud0dc\ub85c \uac16\uace0 \uc788\ub2e4\uac00 45\uc73c\ub85c \ub2e4\uc74c \uc0c1\ud0dc\ub97c \ubc18\ud658\ud55c\ub2e4."),(0,o.kt)("p",null,"\uc989, prevAge => prevAge +1 \ubc29\uc2dd\uc73c\ub85c \uc0c1\ud0dc\ub97c \uc5c5\ub370\uc774\ud2b8 \ud558\uac8c \ub418\uba74, automatic batching\uc73c\ub85c \ud050\uc5d0 setAge \ud568\uc218\uac00 3\ubc88 \ub4e4\uc5b4\uac04\ub2e4.\n2\ubc88\uc9f8 setAge \ud568\uc218 \ucc98\ub9ac\ub97c \ud560 \ub54c, \uccab \ubc88\uc9f8 setAge\ub97c \uc774\ubbf8 \ucc98\ub9ac\ud574\uc11c prev \uac12\uc774 43\uc774\uae30 \ub54c\ubb38\uc5d0 43+1 => 44\uac00 \ub418\ub294 \uac83\uc774\ub2e4."),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"\uad00\ub840\uc801\uc73c\ub85c \ub300\uae30 \uc911\uc778 \uc0c1\ud0dc \uc778\uc218\uc758 \uc774\ub984\uc744 ",(0,o.kt)("inlineCode",{parentName:"p"},"age"),"\uc640 \uac19\uc774 \uc9c0\uc815\ud558\ub294 \uac83\uc774 \uc77c\ubc18\uc801\uc774\uc9c0\ub9cc, prevAge \ub610\ub294 \ub354 \uba85\ud655\ud558\ub2e4\uace0 \uc0dd\uac01\ub418\ub294 \ub2e4\ub978 \uac83\uc73c\ub85c \ubd80\ub97c \uc218\ub3c4 \uc788\ub2e4.\n(\ud544\uc790\ub294 prev\ub97c \ubd99\uc774\ub294 \ubc29\uc2dd\uc744 \uc880 \ub354 \uc120\ud638\ud568)")),(0,o.kt)("iframe",{width:"100%",height:"400px",src:"https://codesandbox.io/embed/boring-johnson-1x4izw?fontsize=14&hidenavigation=1&theme=dark"}),(0,o.kt)("p",null,"\uc774 \uc6d0\ub9ac\ub97c \ubaa8\ub978 \ucc44 setState\ub97c \uc0ac\uc6a9\ud558\uba74, \uc758\ub3c4\ud55c\ub300\ub85c \uc791\ub3d9\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0\uac00 \uc788\ub2e4."),(0,o.kt)("iframe",{width:"100%",height:"400px",src:"https://codesandbox.io/embed/gracious-wave-wv2vqw?fontsize=14&hidenavigation=1&theme=dark"}),(0,o.kt)("p",null,"increment() \ud568\uc218\ub97c \uc138 \ubc88 \ud638\ucd9c\ud558\ub294 onClick +3 \ubc84\ud2bc\uc744 \ub20c\ub7ec\ub3c4 \ud558\ub098\uc529 \uc99d\uac00\ud55c\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"const [age, setAge] = useState(42);\n\nfunction increment() {\n  setAge(age + 1);\n}\n")),(0,o.kt)("p",null,"\ud568\uc218\uac00 \uc5c5\ub370\uc774\ud2b8 \uae30\ub2a5\uc744 \uc804\ub2ec \ud558\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc774\ub2e4."),(0,o.kt)("iframe",{width:"100%",height:"400px",src:"https://codesandbox.io/embed/optimistic-framework-cm3zow?fontsize=14&hidenavigation=1&theme=dark"}),(0,o.kt)("p",null,"\ub530\ub77c\uc11c \uc62c\ubc14\ub974\uac8c setState\ub97c \uc774\ud574\ud558\uace0 \ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uc790"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"const [age, setAge] = useState(42);\n\nfunction increment() {\n  setAge((a) => a + 1);\n}\n")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"\ud568\uc218\ud615 \ud504\ub85c\uadf8\ub798\ubc0d\uc758 \uc6d0\uce59\uc5d0 \ub530\ub77c (\uac19\uc740 input\uc774 \ub4e4\uc5b4\uc624\uba74 \uac19\uc740 output\uc774 \ub098\uc640\uc57c\ud568) \ubcf4\ub958 \uc0c1\ud0dc\ub97c \uac00\uc838\uc640 \ub2e4\uc74c \uc0c1\ud0dc\ub97c \uc5c5\ub370\uc774\ud2b8 \ud558\ub294 \ubc29\uc2dd\uc744 \uc4f0\ub824\uace0 \ub178\ub825\ud558\uc790")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",{parentName:"p",href:"https://react.dev/blog/2022/03/08/react-18-upgrade-guide#automatic-batching"},"\ub354 \uc77d\uc5b4\ubcf4\uba74 \uc88b\uc740 \uae00: automatic batching")),(0,o.kt)("p",{parentName:"li"},"React 18\uc740 \uae30\ubcf8\uc801\uc73c\ub85c \ub354 \ub9ce\uc740 batching(\uc77c\uad04 \ucc98\ub9ac)\ub97c \uc218\ud589\ud558\uc5ec \uc989\uc2dc \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc131\ub2a5 \ud5a5\uc0c1\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.",(0,o.kt)("br",{parentName:"p"}),"\n","batching\uc740 React\uac00 \uc131\ub2a5 \ud5a5\uc0c1\uc744 \uc704\ud574 ",(0,o.kt)("strong",{parentName:"p"},"\uc5ec\ub7ec \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8\ub97c \ub2e8\uc77c \uc7ac\ub80c\ub354\ub9c1\uc73c\ub85c \uadf8\ub8f9\ud654"),"\ud558\ub294 \uac83\uc785\ub2c8\ub2e4."),(0,o.kt)("p",{parentName:"li"},"React 18 \uc774\uc804\uc5d0\ub294 React \uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec \ub0b4\uc5d0\uc11c\ub9cc \uc5c5\ub370\uc774\ud2b8\ub97c \uc77c\uad04 \ucc98\ub9ac\ud588\uc2b5\ub2c8\ub2e4. Promise, setTimeout, \uae30\ubcf8 \uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec \ub610\ub294 \uae30\ud0c0 \uc774\ubca4\ud2b8 \ub0b4\ubd80\uc758 \uc5c5\ub370\uc774\ud2b8\ub294 \uae30\ubcf8\uc801\uc73c\ub85c React\uc5d0\uc11c \uc77c\uad04 \ucc98\ub9ac\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",18:!0,className:"language-tsx",metastring:'title=" React 18 \uc774\uc804\uc5d0\ub294 React \uc774\ubca4\ud2b8\ub9cc \uc77c\uad04 \ucc98\ub9ac\ud568"',title:'"',React:!0,"\uc774\uc804\uc5d0\ub294":!0,"\uc774\ubca4\ud2b8\ub9cc":!0,"\uc77c\uad04":!0,'\ucc98\ub9ac\ud568"':!0},"function handleClick() {\n  setCount((c) => c + 1);\n  setFlag((f) => !f);\n  //  React\ub294 \ub9c8\uc9c0\ub9c9\uc5d0 \ud55c \ubc88\ub9cc \ub2e4\uc2dc \ub80c\ub354\ub9c1\ud569\ub2c8\ub2e4. (\uc774\uac8c batching \uc784)\n}\n\nsetTimeout(() => {\n  setCount((c) => c + 1);\n  setFlag((f) => !f);\n  // setTimeout \ub0b4\uc5d0\uc11c React\ub294 \uac01 \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8\uc5d0 \ub300\ud574 \ud55c \ubc88\uc529 \ub450 \ubc88 \ub80c\ub354\ub9c1\ud569\ub2c8\ub2e4 (\uc77c\uad04 \ucc98\ub9ac batching \uc5c6\uc74c).\n}, 1000);\n")),(0,o.kt)("p",null,"createRoot\uac00 \ud3ec\ud568\ub41c React 18\ubd80\ud130 \ubaa8\ub4e0 \uc5c5\ub370\uc774\ud2b8\ub294 \ucd9c\ucc98\uc5d0 \uad00\uacc4\uc5c6\uc774 \uc790\ub3d9\uc73c\ub85c \uc77c\uad04 \ucc98\ub9ac\ub429\ub2c8\ub2e4. \uc989, Promise, setTimeout, \uae30\ubcf8 \uc774\ubca4\ud2b8 \ud578\ub4e4\ub7ec \ub610\ub294 \uae30\ud0c0 \uc774\ubca4\ud2b8 \ub0b4\ubd80 \uc5c5\ub370\uc774\ud2b8\ub294 React \uc774\ubca4\ud2b8 \ub0b4\ubd80\uc758 \uc5c5\ub370\uc774\ud2b8\uc640 \ub3d9\uc77c\ud55c \ubc29\uc2dd\uc73c\ub85c \uc77c\uad04 \ucc98\ub9ac\ub429\ub2c8\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",18:!0,className:"language-tsx",metastring:'title=" React 18 \uc774\ud6c4\uc5d0\ub294 \ucd9c\ucc98\uc5d0 \uad00\uacc4\uc5c6\uc774 \uc77c\uad04 \ucc98\ub9ac\ud568"',title:'"',React:!0,"\uc774\ud6c4\uc5d0\ub294":!0,"\ucd9c\ucc98\uc5d0":!0,"\uad00\uacc4\uc5c6\uc774":!0,"\uc77c\uad04":!0,'\ucc98\ub9ac\ud568"':!0},"function handleClick() {\n  setCount((c) => c + 1);\n  setFlag((f) => !f);\n  //  React\ub294 \ub9c8\uc9c0\ub9c9\uc5d0 \ud55c \ubc88\ub9cc \ub2e4\uc2dc \ub80c\ub354\ub9c1\ud569\ub2c8\ub2e4. (\uc774\uac8c batching \uc784)\n}\n\nsetTimeout(() => {\n  setCount((c) => c + 1);\n  setFlag((f) => !f);\n  // setTimeout \ub0b4\uc5d0\ub3c4 React\ub294 \ub9c8\uc9c0\ub9c9\uc5d0 \ud55c \ubc88\ub9cc \ub2e4\uc2dc \ub80c\ub354\ub9c1\ud569\ub2c8\ub2e4. (batching)\n}, 1000);\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"batching\uc740 React\uac00 \uc131\ub2a5 \ud5a5\uc0c1\uc744 \uc704\ud574 \uc5ec\ub7ec \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8\ub97c \ub2e8\uc77c \uc7ac\ub80c\ub354\ub9c1\uc73c\ub85c \uadf8\ub8f9\ud654\ud558\ub294 \uac83.",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/reactwg/react-18/discussions/21"},"\ub354 \uc790\uc138\ud788 \uc77d\uc5b4\ubcf4\uae30"))),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"\uc0c1\ud0dc\uc5d0 Object \ub123\uae30")),(0,o.kt)("p",null,"object \uc0c1\ud0dc\uc758 state \uc0c1\ud0dc\ub97c \uc5c5\ub370\uc774\ud2b8 \ud560 \ub54c\ub294 \ubd88\ubcc0\uc131\uc744 \uc704\ud574 spread \uad6c\ubb38\uc744 \uc774\uc6a9\ud558\uc5ec \uc5c5\ub370\uc774\ud2b8 \ud574\uc57c \ud55c\ub2e4. \uc808\ub300 React \uc0c1\ud0dc\uc5d0 \uc788\ub294 \uac1d\uccb4\ub97c \uc9c1\uc811 \ubcc0\uacbd\ud574\uc11c\ub294 \uc548 \ub41c\ub2e4. \uae30\uc874 \uac1d\uccb4\ub97c \ubcc0\uacbd\ud558\ub294 \ub300\uc2e0 ",(0,o.kt)("strong",{parentName:"p"},"\uad50\uccb4"),"\ud55c\ub2e4\uace0 \uc0dd\uac01\ud574\uc57c\ud55c\ub2e4."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://react.dev/learn/updating-objects-in-state"},"\uc0c1\ud0dc\uc758 \uac1c\uccb4 \uc5c5\ub370\uc774\ud2b8")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://react.dev/learn/updating-objects-in-state#updating-a-nested-object"},"\uc911\ucca9 \uac1c\uccb4 \uc5c5\ub370\uc774\ud2b8"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useState } from 'react';\n\nexport default function Form() {\n  const [person, setPerson] = useState({\n    name: 'Niki de Saint Phalle',\n    artwork: {\n      title: 'Blue Nana',\n      city: 'Hamburg',\n      image: 'https://i.imgur.com/Sd1AgUOm.jpg',\n    },\n  });\n\n  const [form, setForm] = useState({\n    firstName: 'Barbara',\n    lastName: 'Hepworth',\n    email: 'bhepworth@sculpture.com',\n  });\n\n  function handleTitleChange(e) {\n    setPerson({\n      ...person,\n      artwork: {\n        ...person.artwork,\n        title: e.target.value,\n      },\n    });\n  }\n\n  return (\n    <>\n      <label>\n        First name:\n        <input\n          value={form.firstName}\n          onChange={(e) => {\n            setForm({\n              ...form,\n              firstName: e.target.value,\n            });\n          }}\n        />\n      </label>\n      <label>\n        Title:\n        <input value={person.artwork.title} onChange={handleTitleChange} />\n      </label>\n    </>\n  );\n}\n")),(0,o.kt)("p",null,"\ubc30\uc5f4\ub3c4 \uac19\uc740 \ubc29\uc2dd\uc73c\ub85c \uc811\uadfc\ud55c\ub2e4."),(0,o.kt)("iframe",{width:"100%",height:"400px",src:"https://codesandbox.io/embed/quiet-sky-ror709?fontsize=14&hidenavigation=1&theme=dark"}),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"\ucd08\uae30 \uc0c1\ud0dc \uc7ac\uc0dd\uc131 \ubc29\uc9c0"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"const [todos, setTodos] = useState(createInitialTodos());")," \uc774 \ucf54\ub4dc\uc640,",(0,o.kt)("br",{parentName:"p"}),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"const [todos, setTodos] = useState(createInitialTodos);")," \uc774 \ucf54\ub4dc\ub294 \uc5c4\uc5f0\ud788 \ub2e4\ub974\ub2e4."),(0,o.kt)("p",{parentName:"li"},"\uc804\uc790\ub294 \ucd08\uae30 \uc0c1\ud0dc\ub97c ",(0,o.kt)("strong",{parentName:"p"},"\uc9c1\uc811")," \uc804\ub2ec\ud574, \uc785\ub825\ud560 \ub54c\uc640 \uac19\uc774 \ubaa8\ub4e0 \ub80c\ub354\ub9c1\uc5d0\uc11c \ud568\uc218\uac00 \uc2e4\ud589 \uc2e4\ud589\ub418\uba70, \ud6c4\uc790\ub294 \uc774\ub2c8\uc15c\ub77c\uc774\uc800 \ud568\uc218 \uadf8 \uc790\uccb4\ub97c \uc804\ub2ec\ud558\uace0, \ucd08\uae30\ud654 \uc911\uc5d0\ub9cc \uc2e4\ud589\ub418\uc5b4 \ucef4\ud3ec\ub10c\ud2b8\uac00 \ub2e4\uc2dc \ub80c\ub354\ub9c1 \ub420 \ub550 \uc2e4\ud589\ud558\uc9c0 \uc54a\ub294\ub2e4."))),(0,o.kt)("h3",{id:"2-useeffect"},"2. useEffect"),(0,o.kt)("h3",{id:"3-usememo"},"3. useMemo"),(0,o.kt)("h3",{id:"4-usecallback"},"4. useCallback"),(0,o.kt)("p",null,"\ucef4\ud3ec\ub10c\ud2b8\uc758 \ucd5c\uc0c1\uc704 \uc218\uc900\uc5d0\uc11c useCallback\uc744 \ud638\ucd9c\ud558\uc5ec \uc7ac\ub80c\ub354\ub9c1 \uac04\uc5d0 ",(0,o.kt)("strong",{parentName:"p"},"\ud568\uc218\ub97c \uce90\uc2dc"),"\ud568."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"useCallback(fn, dependencies)")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"fn: \ub9ac\ub79c\ub354\ub9c1 \uc2dc \uce90\uc2dc\ud558\ub824\ub294 \ud568\uc218 \uc815\uc758"),(0,o.kt)("li",{parentName:"ol"},"dependencies: \ud568\uc218 \ub0b4\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \ucef4\ud3ec\ub10c\ud2b8 \ub0b4\uc758 \ubaa8\ub4e0 \uac12\uc744 \ud3ec\ud568\ud558\ub294 \uc885\uc18d\uc131 \ubaa9\ub85d.")),(0,o.kt)("h4",{id:"1-\ucef4\ud3ec\ub10c\ud2b8\uc758-\uc7ac\ub79c\ub354\ub9c1-\uc2a4\ud0b5\ud558\uae30"},"1. \ucef4\ud3ec\ub10c\ud2b8\uc758 \uc7ac\ub79c\ub354\ub9c1 \uc2a4\ud0b5\ud558\uae30"),(0,o.kt)("p",null,"\ub80c\ub354\ub9c1 \uc131\ub2a5\uc744 \ucd5c\uc801\ud654\ud560 \ub54c \uc790\uc2dd \ucef4\ud3ec\ub10c\ud2b8\uc5d0 \uc804\ub2ec\ud558\ub294 \ud568\uc218\ub97c \uce90\uc2dc\ud574\uc57c \ud558\ub294 \uacbd\uc6b0."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\ucd08\uae30 \ub80c\ub354\ub9c1\uc5d0\uc11c useCallback\uc5d0\uc11c \ubc18\ud658\ub418\ub294 \ud568\uc218\ub294 fn."),(0,o.kt)("li",{parentName:"ol"},"\uadf8 \ub2e4\uc74c \ub80c\ub354\ub9c1\uc5d0\uc11c React\ub294 \uc885\uc18d\uc131\uc744 \uc774\uc804 \ub80c\ub354\ub9c1 \uc911 \uc885\uc18d\uc131\uacfc \ube44\uad50\ud55c\ub2e4."),(0,o.kt)("li",{parentName:"ol"},"\uc885\uc18d\uc131\uc774 ",(0,o.kt)("strong",{parentName:"li"},"\ubcc0\uacbd\ub418\uc9c0 \uc54a\uc740 \uacbd\uc6b0"),"(Object.is\uc640 \ube44\uad50\ud558\uc5ec) useCallback\uc740 \uc774\uc804\uacfc \ub3d9\uc77c\ud55c \ud568\uc218\ub97c \ubc18\ud658\ud55c\ub2e4."),(0,o.kt)("li",{parentName:"ol"},"\uadf8\ub807\uc9c0 \uc54a\uc73c\uba74 useCallback\uc740 \uc774 \ub80c\ub354\ub9c1\uc5d0\uc11c \uc804\ub2ec\ud55c \ud568\uc218\ub97c \ubc18\ud658\ud55c\ub2e4.")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\uc989, useCallback\uc740 \uc885\uc18d\uc131\uc774 \ubcc0\uacbd\ub420 \ub54c\uae4c\uc9c0 \ub2e4\uc2dc \ub80c\ub354\ub9c1 \uac04\uc5d0 \ud568\uc218\ub97c \uce90\uc2dc\ud568.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"function ProductPage({ productId, referrer, theme }) {\n  // theme\uac00 \ubc14\ub014\ub54c\ub9c8\ub2e4 \ub2e4\ub978 \uae30\ub2a5\uc774 \ub420\ud150\ub370...\n  function handleSubmit(orderDetails) {\n    post('/product/' + productId + '/buy', {\n      referrer,\n      orderDetails,\n    });\n  }\n\n  return (\n    <div className={theme}>\n      {/* ... \ub530\ub77c\uc11c ShippingForm\uc758 \uc18c\ud488\uc740 \ub3d9\uc77c\ud558\uc9c0 \uc54a\uc73c\uba70 \ub9e4\ubc88 \ub2e4\uc2dc \ub80c\ub354\ub9c1\ub429\ub2c8\ub2e4. */}\n      <ShippingForm onSubmit={handleSubmit} />\n    </div>\n  );\n}\n")),(0,o.kt)("p",null,"handleSubmit \uc774\ub77c\ub294 \ud568\uc218\ub97c, ProductPage \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c ShippingForm \uc790\uc2dd \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uac8c \uc804\ub2ec\ud568.\nuseCallback \uc73c\ub85c \uac10\uc2f8\uc9c0 \uc54a\uc740 handleSubmit \ud568\uc218\ub294 \ub9ac\uc561\ud2b8\uac00 \ub9ac\ub80c\ub354\ub9c1 \ud560 \ub54c \uc0c8 \uac1d\uccb4\ub97c \uacc4\uc18d \uc0dd\uc131\ud558\ubbc0\ub85c \ub2e4\ub978 \ud568\uc218\ub97c \uc0dd\uc131\ud55c\ub2e4\uace0 \ubcf8\ub2e4.\n\uc989, handleSubmit \ud568\uc218\ub97c prop\uc73c\ub85c \ubc1b\ub294 ShippingForm \ucef4\ud3ec\ub10c\ud2b8 \uc5ed\uc2dc\ub3c4 \ub2e4\ub978 \uac12\uc774 \uc628\ub2e4\uace0 \uc778\uc2dd\ud558\ubbc0\ub85c, \ub2e4\uc2dc \uadf8\ub824\uc9c4\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"function ProductPage({ productId, referrer, theme }) {\n  // \ud568\uc218\ub97c \uce90\uc2dc\ud568\n  const handleSubmit = useCallback(\n    (orderDetails) => {\n      post('/product/' + productId + '/buy', {\n        referrer,\n        orderDetails,\n      });\n    },\n    [productId, referrer]\n  ); // ...\uc885\uc18d\uc131\uc774 \ubcc0\uacbd\ub418\uc9c0 \uc54a\ub294 \ud55c...\n\n  return (\n    <div className={theme}>\n      {/* ...ShippingForm\uc740 \ub3d9\uc77c\ud55c prop\uc744 \uc218\uc2e0\ud558\uace0 \uc7ac\ub80c\ub354\ub9c1\uc744 \uac74\ub108\ub6f8 \uc218 \uc788\ub2e4. \ub3d9\uc77c\ud55c prop\uc774\ub77c\ub294 \uac83\uc5d0 \uc8fc\ubaa9\ud558\uc790. */}\n      <ShippingForm onSubmit={handleSubmit} />\n    </div>\n  );\n}\n")),(0,o.kt)("h4",{id:"2-usememo\uc640-\ucc28\uc774"},"2. useMemo\uc640 \ucc28\uc774"),(0,o.kt)("p",null,"\uc5b4\ub5a4 \uac83\uc744 \uce90\uc2dc\ud558\ub290\ub0d0\uc5d0 \ub2ec\ub838\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useMemo, useCallback } from 'react';\n\nfunction ProductPage({ productId, referrer }) {\n  const product = useData('/product/' + productId);\n\n  const requirements = useMemo(() => {\n    // \uac12 \uadf8 \uc790\uccb4\ub97c \uce90\uc2dc\ud568\n    // Calls your function and caches its result\n    return computeRequirements(product);\n  }, [product]);\n\n  const handleSubmit = useCallback(\n    // \ud568\uc218\ub97c \uce90\uc2dc\ud568\n    (orderDetails) => {\n      // Caches your function itself\n      post('/product/' + productId + '/buy', {\n        referrer,\n        orderDetails,\n      });\n    },\n    [productId, referrer]\n  );\n\n  return (\n    <div className={theme}>\n      <ShippingForm requirements={requirements} onSubmit={handleSubmit} />\n      // \uac12\n    </div>\n  );\n}\n")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"useMemo\ub294 ",(0,o.kt)("strong",{parentName:"li"},"\ud568\uc218 \ud638\ucd9c \uacb0\uacfc"),"\ub97c \uce90\uc2dc\ud568. product\uac00 \ubcc0\uacbd\ub418\uc9c0 \uc54a\ub294 \ud55c, computeRequirements(product) \ud638\ucd9c ",(0,o.kt)("strong",{parentName:"li"},"\uacb0\uacfc"),"\ub97c \uce90\uc2dc\ud568. \uc774\ub807\uac8c \ud558\uba74 ShippingForm\uc744 \ubd88\ud544\uc694\ud558\uac8c \ub2e4\uc2dc \ub80c\ub354\ub9c1\ud558\uc9c0 \uc54a\uace0\ub3c4 \uc694\uad6c \uc0ac\ud56d \uac1c\uccb4\ub97c \uc804\ub2ec\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,o.kt)("li",{parentName:"ol"},"useCallback\uc740 ",(0,o.kt)("strong",{parentName:"li"},"\ud568\uc218 \uc790\uccb4"),"\ub97c \uce90\uc2dc\ud568. \uc0ac\uc6a9\uc790\uac00 \uc81c\uacf5\ud558\ub294 \ud568\uc218\ub97c \ud638\ucd9c\ud558\uc9c0 \uc54a\uc74c! \ub300\uc2e0 productId, referrer\uac00 \ubcc0\uacbd\ub418\uc9c0 \uc54a\ub294 \ud55c handleSubmit \uc790\uccb4\uac00 \ubcc0\uacbd\ub418\uc9c0 \uc54a\ub3c4\ub85d \uc81c\uacf5\ud55c \ud568\uc218\uc744 \uce90\uc2dc\ud568. \uc774\ub807\uac8c \ud558\uba74 ShippingForm\uc744 \ubd88\ud544\uc694\ud558\uac8c \ub2e4\uc2dc \ub80c\ub354\ub9c1\ud558\uc9c0 \uc54a\uace0 handleSubmit \ud568\uc218\ub97c \uc804\ub2ec\ud560 \uc218 \uc788\uc74c.")),(0,o.kt)("h4",{id:"3-\uba54\ubaa8\ud654\ub41c-\ucf5c\ubc31memoized-callback\uc5d0\uc11c-\uc0c1\ud0dc-\uc5c5\ub370\uc774\ud2b8-feat-usestate"},"3. \uba54\ubaa8\ud654\ub41c \ucf5c\ubc31(memoized callback)\uc5d0\uc11c \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8 (feat. useState)"),(0,o.kt)("p",null,"\uacbd\uc6b0\uc5d0 \ub530\ub77c \uba54\ubaa8\ud654\ub41c \ucf5c\ubc31\uc758 ",(0,o.kt)("strong",{parentName:"p"},"\uc774\uc804 \uc0c1\ud0dc\ub97c \uae30\ubc18"),"\uc73c\ub85c \uc0c1\ud0dc\ub97c \uc5c5\ub370\uc774\ud2b8\ud574\uc57c \ud560 \uc218\ub3c4 \uc788\uc74c."),(0,o.kt)("p",null,"\uc544\ub798 \uc608\uc758 ",(0,o.kt)("inlineCode",{parentName:"p"},"handleAddTodo"),"\ud568\uc218\ub294 todos\uc5d0\uc11c \ub2e4\uc74c todos\ub97c \uacc4\uc0b0\ud558\uae30 \ub54c\ubb38\uc5d0 ",(0,o.kt)("strong",{parentName:"p"},"todos\ub97c \uc885\uc18d\uc131"),"\uc73c\ub85c \uc9c0\uc815\ud55c\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"function TodoList() {\n  const [todos, setTodos] = useState([]);\n\n  const handleAddTodo = useCallback((text) => {\n    const newTodo = { id: nextId++, text };\n\n// highlight-start\n    setTodos([...todos, newTodo]);\n  }, [todos]);\n// highlight-end\n")),(0,o.kt)("p",null,"\uadf8\ub7ec\ub098 \uc77c\ubc18\uc801\uc73c\ub85c, \uba54\ubaa8\ud654\ub41c \ud568\uc218\ub294 \uac00\ub2a5\ud55c \uc801\uc740 \uc885\uc18d\uc131\uc744 \uac16\uace0 \uc2f6\uc73c\ubbc0\ub85c, \ub2e4\uc74c \uc0c1\ud0dc(next state)\ub97c \uacc4\uc0b0\ud558\uae30 \uc704\ud574 \uc77c\ubd80 \uc0c1\ud0dc\ub97c \uc77d\ub294 \uacbd\uc6b0, \uc5c5\ub370\uc774\ud2b8 \ud568\uc218\ub97c \uc804\ub2ec\ud574\uc11c \uc885\uc18d\uc131\uc744 \uc81c\uac70\ud560 \uc218 \uc788\ub2e4. \uc5c5\ub370\uc774\ud2b8 \ud568\uc218\ub294 \uc704\uc5d0\uc11c(useState) \uc124\uba85\ud588\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"function TodoList() {\n  const [todos, setTodos] = useState([]);\n\n  const handleAddTodo = useCallback((text) => {\n    const newTodo = { id: nextId++, text };\n\n  // highlight-start\n    setTodos(todos => [...todos, newTodo]);\n  }, []); // \u2705 \uc774\ub7f0 \uc2dd\uc73c\ub85c \uc885\uc18d\uc131\uc744 \uc81c\uac70\uac00\ub2a5.\n  // highlight-end\n  // ...\n")),(0,o.kt)("h4",{id:"4-effect\uac00-\ub108\ubb34-\uc790\uc8fc-\ubc1c\uc0dd\ud558\uc9c0-\uc54a\ub3c4\ub85d-\ubc29\uc9c0-feat-useeffect"},"4. Effect\uac00 \ub108\ubb34 \uc790\uc8fc \ubc1c\uc0dd\ud558\uc9c0 \uc54a\ub3c4\ub85d \ubc29\uc9c0 (feat. useEffect)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="Effect \ub0b4\ubd80\uc5d0\uc11c \ud568\uc218 \ud638\ucd9c \uc911"',title:'"Effect',"\ub0b4\ubd80\uc5d0\uc11c":!0,"\ud568\uc218":!0,"\ud638\ucd9c":!0,'\uc911"':!0},"function ChatRoom({ roomId }) {\n  const [message, setMessage] = useState('');\n\n  function createOptions() {\n    return {\n      serverUrl: 'https://localhost:1234',\n      roomId: roomId\n    };\n  }\n\n  useEffect(() => {\n    const options = createOptions();\n    const connection = createConnection();\n    connection.connect();\n    return () => connection.disconnect();\n  }, [createOptions]);\n")),(0,o.kt)("p",null,"\uc774 \ucf54\ub4dc\uc758 \ubb38\uc81c\ub294, \ubaa8\ub4e0 \ubc18\uc751 \uac12(reactive value)\uc740 Effect\uc758 \uc885\uc18d\uc131\uc73c\ub85c \uc9c0\uc815\ud574\uc57c \ud558\ub294\ub370\uc11c \uc628\ub2e4. \uadf8\ub7ec\ub098 createOptions\uc744 \uc885\uc18d\uc131\uc73c\ub85c \uc120\uc5b8\ud558\uba74, Effect\uac00 \ucc44\ud305\ubc29\uc5d0 \uc9c0\uc18d\uc801\uc73c\ub85c \ub2e4\uc2dc \uc5f0\uacb0\ub41c\ub2e4."),(0,o.kt)("p",null,"\uc774 \ubb38\uc81c\ub294 createOptions \ub97c useCallback\uc73c\ub85c \uac10\uc2f8\uba74 \ub41c\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"function ChatRoom({ roomId }) {\n  const [message, setMessage] = useState('');\n\n// highlight-start\n  const createOptions = useCallback(() => {\n    return {\n      serverUrl: 'https://localhost:1234',\n      roomId: roomId\n    };\n  }, [roomId]); // \u2705 Only changes when roomId changes\n// highlight-end\n\n  useEffect(() => {\n    const options = createOptions();\n    const connection = createConnection();\n    connection.connect();\n    return () => connection.disconnect();\n  }, [createOptions]); // \u2705 Only changes when createOptions changes\n  // ...\n")),(0,o.kt)("p",null,"\ud558\uc9c0\ub9cc \ud568\uc218 \uc885\uc18d\uc131\uc744 \uc5c6\uc560\ub294 \uac83\uc774 \ubca0\uc2a4\ud2b8\uc774\ubbc0\ub85c \ud574\ub2f9 \ud568\uc218\ub97c useEffect\ub85c \uc62e\uae34\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="useCallback\uc774 \ud544\uc694 \uc5c6\uc5b4\uc9c4\ub2e4"',title:'"useCallback\uc774',"\ud544\uc694":!0,'\uc5c6\uc5b4\uc9c4\ub2e4"':!0},"function ChatRoom({ roomId }) {\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    // highlight-start\n    function createOptions() { // \u2705 No need for useCallback or function dependencies!\n      return {\n        serverUrl: 'https://localhost:1234',\n        roomId: roomId\n      };\n    }\n   // highlight-end\n\n    const options = createOptions();\n    const connection = createConnection();\n    connection.connect();\n    return () => connection.disconnect();\n  }, [roomId]); // \u2705 Only changes when roomId changes\n  // ...\n\n")),(0,o.kt)("h4",{id:"5-\ucee4\uc2a4\ud140-\ud6c5-\ucd5c\uc801\ud654"},"5. \ucee4\uc2a4\ud140 \ud6c5 \ucd5c\uc801\ud654"),(0,o.kt)("p",null,"\ucee4\uc2a4\ud140 \ud6c5\uc744 \ub9cc\ub4e4\uc5b4 \uc4f0\ub294 \uacbd\uc6b0, \ubaa8\ub4e0 \ud568\uc218\ub97c useCallback\uc73c\ub85c \ub798\ud551\ud558\ub294 \uac83\uc774 \uc88b\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"function useRouter() {\n  const { dispatch } = useContext(RouterStateContext);\n\n  const navigate = useCallback(\n    (url) => {\n      dispatch({ type: 'navigate', url });\n    },\n    [dispatch]\n  );\n\n  const goBack = useCallback(() => {\n    dispatch({ type: 'back' });\n  }, [dispatch]);\n\n  return {\n    navigate,\n    goBack,\n  };\n}\n")),(0,o.kt)("h3",{id:"5-usecontext"},"5. useContext"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"const value = useContext(SomeContext);\n")),(0,o.kt)("p",null,"\ucef4\ud3ec\ub10c\ud2b8\uc758 \ucd5c\uc0c1\uc704 \uc218\uc900\uc5d0\uc11c ",(0,o.kt)("inlineCode",{parentName:"p"},"useContext"),"\ub97c \ud638\ucd9c\ud558\uc5ec ",(0,o.kt)("inlineCode",{parentName:"p"},"context"),"\ub97c \uc77d\uace0 \uad6c\ub3c5\ud568."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { createContext, useContext } from 'react';\n\nconst ThemeContext = createContext(null);\n\nexport default function MyApp() {\n  return (\n    <ThemeContext.Provider value='dark'>\n      <Form />\n    </ThemeContext.Provider>\n  );\n}\n\nfunction Form() {\n  return (\n    <Panel title='Welcome'>\n      <Button>Sign up</Button>\n      <Button>Log in</Button>\n    </Panel>\n  );\n}\n\nfunction Panel({ title, children }) {\n  // highlight-next-line\n  const theme = useContext(ThemeContext);\n  const className = 'panel-' + theme;\n  return (\n    <section className={className}>\n      <h1>{title}</h1>\n      {children}\n    </section>\n  );\n}\n\nfunction Button({ children }) {\n  // highlight-next-line\n  const theme = useContext(ThemeContext);\n  const className = 'button-' + theme;\n  return <button className={className}>{children}</button>;\n}\n")),(0,o.kt)("p",null,"\uc5ec\uae30\uc11c ",(0,o.kt)("inlineCode",{parentName:"p"},"ThemeContext"),"\ub294 createContext\ub85c \uc0dd\uc131\ud55c \ucee8\ud14d\uc2a4\ud2b8\uc784.\n\ucee8\ud14d\uc2a4\ud2b8 \uc790\uccb4\ub294 \uc815\ubcf4\ub97c \ubcf4\uc720\ud558\uc9c0 \uc54a\uc73c\uba70 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc81c\uacf5\ud558\uac70\ub098 \uc77d\uc744 \uc218 \uc788\ub294 \uc885\ub958\uc758 \uc815\ubcf4\ub9cc \ub098\ud0c0\ub0c4."),(0,o.kt)("p",null,"useContext\ub294 \ud638\ucd9c \ucef4\ud3ec\ub10c\ud2b8\uc5d0 \ub300\ud55c \ucee8\ud14d\uc2a4\ud2b8 \uac12\uc744 \ubc18\ud658\ud568. \uc774 \uac12\uc740 \ud638\ucd9c \ucef4\ud3ec\ub10c\ud2b8\uc758 \uac00\uc7a5 \uac00\uae4c\uc6b4 ",(0,o.kt)("inlineCode",{parentName:"p"},"SomeContext.Provider"),"\uc5d0 \uc804\ub2ec\ub41c \uac12\uc784. \ud574\ub2f9 Provider\uac00 \uc5c6\ub294 \uacbd\uc6b0 return \uac12\uc740 \ud574\ub2f9 \ucee8\ud14d\uc2a4\ud2b8\uc5d0 \ub300\ud574 createContext\uc5d0 \uc804\ub2ec\ud55c defaultValue\uc784."),(0,o.kt)("p",null,"return \uac12\uc740 \ud56d\uc0c1 \ucd5c\uc2e0 \uc0c1\ud0dc\uc774\uba70, ",(0,o.kt)("strong",{parentName:"p"},"\uac12\uc774 \ubcc0\uacbd\ub420 \uacbd\uc6b0 \ud574\ub2f9 \ucee8\ud14d\uc2a4\ud2b8\ub97c \uc77d\ub294 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc790\ub3d9\uc73c\ub85c \ub2e4\uc2dc \ub80c\ub354\ub9c1\ud568.")),(0,o.kt)("p",null,"\uc989, \ud2b9\uc815 \ucee8\ud14d\uc2a4\ud2b8\ub97c \uc0ac\uc6a9\ud558\ub294 \ubaa8\ub4e0 \uc790\uc2dd\uc744 \uc790\ub3d9\uc73c\ub85c \ub2e4\uc2dc \ub80c\ub354\ub9c1\ud55c\ub2e4. \uc774\ub294 \ub80c\ub354\ub9c1 \ucd5c\uc801\ud654\ub97c \ud558\uae30 \ud798\ub4e4\uac8c \ub9cc\ub4e0\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="useContext\uc758 \ub2e8\uc810"',title:'"useContext\uc758','\ub2e8\uc810"':!0},"function ChildA = () => {\n    const {valueA} = useContext(value);\n    return <A></A>\n}\n\nfunction ChildB = () => {\n    const {valueB} = useContext(value);\n    return <B></B>\n}\n")),(0,o.kt)("p",null,"valueA \uc758 \uac12\uc774 \ubc14\ub00c\uac8c \ub418\uba74, \uc804\ud600 \uad00\ub828\uc5c6\ub294 ChildB\uae4c\uc9c0 \uc7ac\ub80c\ub354\ub9c1 \ub41c\ub2e4..."),(0,o.kt)("h4",{id:"1-\uc5ec\ub7ec-\uac1c\uc758-\ucee8\ud14d\uc2a4\ud2b8"},"1. \uc5ec\ub7ec \uac1c\uc758 \ucee8\ud14d\uc2a4\ud2b8"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { createContext, useContext, useState } from 'react';\n\nconst ThemeContext = createContext(null);\nconst CurrentUserContext = createContext(null);\n\nexport default function MyApp() {\n  const [theme, setTheme] = useState('light');\n  const [currentUser, setCurrentUser] = useState(null);\n  return (\n    <ThemeContext.Provider value={theme}>\n      <CurrentUserContext.Provider\n        value={{\n          currentUser,\n          setCurrentUser,\n        }}\n      >\n        <WelcomePanel />\n        <label>\n          <input\n            type='checkbox'\n            checked={theme === 'dark'}\n            onChange={(e) => {\n              setTheme(e.target.checked ? 'dark' : 'light');\n            }}\n          />\n          Use dark mode\n        </label>\n      </CurrentUserContext.Provider>\n    </ThemeContext.Provider>\n  );\n}\n\nfunction WelcomePanel({ children }) {\n  const { currentUser } = useContext(CurrentUserContext);\n  return (\n    <Panel title='Welcome'>\n      {currentUser !== null ? <Greeting /> : <LoginForm />}\n    </Panel>\n  );\n}\n\nfunction Greeting() {\n  const { currentUser } = useContext(CurrentUserContext);\n  return <p>You logged in as {currentUser.name}.</p>;\n}\n\nfunction LoginForm() {\n  const { setCurrentUser } = useContext(CurrentUserContext);\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const canLogin = firstName !== '' && lastName !== '';\n  return (\n    <>\n      <label>\n        First name{': '}\n        <input\n          required\n          value={firstName}\n          onChange={(e) => setFirstName(e.target.value)}\n        />\n      </label>\n      <label>\n        Last name{': '}\n        <input\n          required\n          value={lastName}\n          onChange={(e) => setLastName(e.target.value)}\n        />\n      </label>\n      <Button\n        disabled={!canLogin}\n        onClick={() => {\n          setCurrentUser({\n            name: firstName + ' ' + lastName,\n          });\n        }}\n      >\n        Log in\n      </Button>\n      {!canLogin && <i>Fill in both fields.</i>}\n    </>\n  );\n}\n\nfunction Panel({ title, children }) {\n  const theme = useContext(ThemeContext);\n  const className = 'panel-' + theme;\n  return (\n    <section className={className}>\n      <h1>{title}</h1>\n      {children}\n    </section>\n  );\n}\n\nfunction Button({ children, disabled, onClick }) {\n  const theme = useContext(ThemeContext);\n  const className = 'button-' + theme;\n  return (\n    <button className={className} disabled={disabled} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n")),(0,o.kt)("h4",{id:"2\ucee8\ud14d\uc2a4\ud2b8-\uc7ac\uc815\uc758"},"2.\ucee8\ud14d\uc2a4\ud2b8 \uc7ac\uc815\uc758"),(0,o.kt)("p",null,"\ub2e4\ub978 \uac12\uc744 \uc0ac\uc6a9\ud558\uc5ec provider\uc5d0\uc11c \ud574\ub2f9 \ubd80\ubd84\uc744 \ub798\ud551\ud558\uc5ec \ud2b8\ub9ac \ubd80\ubd84\uc758 \ucee8\ud14d\uc2a4\ud2b8\ub97c \uc7ac\uc815\uc758\ud560 \uc218 \uc788\uc74c."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { createContext, useContext } from 'react';\n\nconst ThemeContext = createContext(null);\n\nexport default function MyApp() {\n  return (\n    <ThemeContext.Provider value='dark'>\n      <Form />\n    </ThemeContext.Provider>\n  );\n}\n\nfunction Form() {\n  return (\n    <Panel title='Welcome'>\n      <Button>Sign up</Button>\n      <Button>Log in</Button>\n      // \uc5ec\uae30\uc11c Footer \ubd80\ubd84\ub9cc Provider value\ub97c \ub530\ub85c \uc904 \uc218 \uc788\ub2e4.\n      <ThemeContext.Provider value='light'>\n        <Footer />\n      </ThemeContext.Provider>\n    </Panel>\n  );\n}\n\nfunction Footer() {\n  return (\n    <footer>\n      <Button>Settings</Button>\n    </footer>\n  );\n}\n\nfunction Panel({ title, children }) {\n  const theme = useContext(ThemeContext);\n  const className = 'panel-' + theme;\n  return (\n    <section className={className}>\n      {title && <h1>{title}</h1>}\n      {children}\n    </section>\n  );\n}\n\nfunction Button({ children }) {\n  const theme = useContext(ThemeContext);\n  const className = 'button-' + theme;\n  return <button className={className}>{children}</button>;\n}\n")),(0,o.kt)("h4",{id:"3\ud568\uc218-\ub610\ub294-\uac1c\uccb4\ub97c-\ucee8\ud14d\uc2a4\ud2b8\ub85c-\uc804\ub2ec\ud558\uae30"},"3.\ud568\uc218 \ub610\ub294 \uac1c\uccb4\ub97c \ucee8\ud14d\uc2a4\ud2b8\ub85c \uc804\ub2ec\ud558\uae30"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { useCallback, useMemo } from 'react';\n\nfunction MyApp() {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  const login = useCallback((response) => {\n    storeCredentials(response.credentials);\n    setCurrentUser(response.user);\n  }, []);\n\n  const contextValue = useMemo(\n    () => ({\n      currentUser,\n      login,\n    }),\n    [currentUser, login]\n  );\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      <Page />\n    </AuthContext.Provider>\n  );\n}\n")))}p.isMDXComponent=!0}}]);